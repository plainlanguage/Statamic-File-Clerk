<div class="fileclerk">

	<div class="add-file {{ if value }}is-hidden{{ else }}is-visible{{ endif }}">
		<ul class="nav nav-tabs tabs">
			<li class="active"><a href="#" data-tab="nav-upload" title="Upload New">Upload New</a></li><li><a href="#" data-tab="nav-choose" data-destination="{{ destination }}" title="Choose Existing" class="load_existing">Choose Existing</a></li>
		</ul>
		<div class="tab-content content">

			<div class="tab-pane active view-upload fade in" data-tab="view-upload">
				<input class="postUrl" name="postUrl" type="hidden" data-destination="{{ destination }}" value="{{ action }}">
				<div class="file-wrapper is-visible">
					<input class="file-upload" type="file" name="files">
					<span class="button button-light large" href="#"><span class="button-icon-upload">Upload File</span></span>
				</div>
				<div class="upload-error is-hidden">
				</div>
				<div class="progress-bar is-hidden">
					<progress class="uploading" value="0" min="0" max="100"></progress>
					<div class="prc"></div>
				</div>
			</div>

			<div class="tab-pane view-remote fade" data-tab="view-choose">
				<ul class="breadcrumb">
					<li class="root"><a href="#">fileclerk</a></li>
				</ul>
				<div class="view-list">
					<table class="tablesort">
						<thead>
							<tr>
								<th class="head-name" data-sort="string-ins">Name</th>
								<th class="head-size" data-sort="size">Size</th>
								<th class="head-modifed" data-sort="date">Date Modified</th>
							</tr>
						</thead>
						<tbody>
							{{ if directories }}
							{{ directories }}
							<tr class="directory">
								<td class="is-directory" scope="row">{{ filename }}</td>
								<td>--</td>
								<td>{{ last_modified format="m/j/Y" }} <span class="time">{{ last_modified format="h:i A" }}</span></td>
							</tr>
							{{ /directories }}
							{{ endif }}
							{{ if files }}
							{{ files }}
							<tr class="file" data-file="{{ file }}">
								<td class="is-file" scope="row"><a href="{{ url }}" target="_blank">{{ filename }}</a></td>
								<td>{{ size }}</td>
								<td>{{ last_modified format="m/j/Y" }} <span class="time">{{ last_modified format="h:i A" }}</span></td>
							</tr>
							{{ /files }}
							{{ endif }}
						</tbody>
					</table>
				</div>
				<div class="action-bar">
					<button class="button button-blue" data-action="select_file" disabled>Select File</button>
				</div>
				<div class="inline-preview is-hidden">
					<a class="modal-close" href="#">Close</a>
					<div class="load"><div class="ajax-spinner"></div></div>
				</div>
				<div class="ajax-spinner"></div>
				<div class="ajax-overlay is-hidden"></div>
			</div>

		</div>
	</div>

	<div class="result {{ if value }}is-visible{{ else }}is-hidden{{ endif }}">
		<span class="filename-display">
			<span class="filename">{{ basename_value }}</span>
			<a class="preview preview--is-selected {{ if value }}is-visible{{ else }}is-hidden{{ endif }}" href="{{ url }}" rel="{{ if is_image == "true" }}inline{{ else }}external{{ endif }}">Preview</a>
			<div class="inline-preview is-hidden">
				<a class="modal-close" href="#">Close</a>
				<div class="load"><div class="ajax-spinner"></div></div>
			</div>
		</span>
		<a class="btn btn-small btn-remove" href="#">Remove</a>
		<input type="hidden" name="{{ name }}" id="{{ name }}" class="successful-upload" value="{{ value }}">
		<input type="hidden" name="{{ name }}[url]" class="hidden-url" value="{{ url }}">
		<input type="hidden" name="{{ name }}[filename]" class="hidden-filename" value="{{ filename }}">
		<input type="hidden" name="{{ name }}[extension]" class="hidden-extension" value="{{ extension }}">
		<input type="hidden" name="{{ name }}[size]" class="hidden-size" value="{{ size }}">
		<input type="hidden" name="{{ name }}[size_bytes]" class="hidden-size-bytes" value="{{ size_bytes }}">
		<input type="hidden" name="{{ name }}[size_kilobytes]" class="hidden-size-kilobytes" value="{{ size_kilobytes }}">
		<input type="hidden" name="{{ name }}[size_megabytes]" class="hidden-size-megabytes" value="{{ size_megabytes }}">
		<input type="hidden" name="{{ name }}[size_gigabytes]" class="hidden-size-gigabytes" value="{{ size_gigabytes }}">
		<input type="hidden" name="{{ name }}[is_image]" class="hidden-is-image" value="{{ is_image }}">

	</div>

	<script type="text/javascript">
		var _site_root = {{ site_root }} || '/';
	</script>
</div>